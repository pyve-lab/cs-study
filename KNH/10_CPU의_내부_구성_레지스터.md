# 10강 CPU의 내부 구성 – 레지스터

---

## 1. 레지스터의 역할 다시 정리

레지스터는 CPU 내부에 존재하는 **고속 저장 장치**로, 명령어 실행 과정에서 핵심적인 역할을 한다. 

CPU는 명령어를 실행할 때 메모리보다 **레지스터를 우선적으로 활용**한다.

---

## 2. 8가지 주요 레지스터

### 1️⃣ 프로그램 카운터 (PC)

- 다음에 실행할 **명령어의 주소**를 저장
- 명령어 실행 후 자동으로 증가하거나 변경됨

> PC 덕분에 CPU는 명령어를 순차적으로 실행할 수 있다.
> 

---

### 2️⃣ 명령어 레지스터 (IR)

- 현재 실행 중인 **명령어 자체**를 저장
- 제어장치가 이 값을 해석하여 제어 신호 생성

---

### 3️⃣ 메모리 주소 레지스터 (MAR)

- 접근하려는 **메모리의 주소**를 저장
- 메모리 읽기/쓰기 시 사용

---

### 4️⃣ 메모리 버퍼 레지스터 (MBR)

- 메모리에서 읽어 온 데이터
- 또는 메모리에 저장할 데이터를 임시로 저장

> MBR은 메모리와 CPU 사이의 **완충 역할**을 한다.
> 

---

### 5️⃣ 범용 레지스터

- 연산에 필요한 데이터 저장
- 연산 결과 저장
- 가장 일반적으로 사용되는 레지스터

---

### 6️⃣ 플래그 레지스터

- ALU 연산 결과의 **상태 정보** 저장
- 조건 분기 및 CPU 제어에 사용

---

### 7️⃣ 스택 포인터 (SP)

- 스택의 **최상단 주소**를 저장
- 함수 호출과 복귀 과정에서 사용

---

### 8️⃣ 베이스 레지스터 (Base Register)

- 기준이 되는 주소를 저장
- 주소 계산의 기준점 역할

---

## 3. 특정 레지스터를 이용한 주소 지정 방식

주소 지정 방식은 **오퍼랜드가 가리키는 실제 메모리 주소를 계산하는 방법**이다.

---

## 4. 스택 주소 지정 방식

스택 주소 지정 방식은 **스택 포인터(SP)** 를 사용하는 방식이다.

### 특징

- 오퍼랜드의 주소를 명시하지 않음
- 스택의 최상단을 자동으로 사용
- 함수 호출, 복귀에 적합

### 동작 개념

SP가 가리키는 위치 ← 연산 대상

> 스택 주소 지정 방식에서는 SP가 곧 주소 역할을 한다.
> 

---

## 5. 변위 주소 지정 방식 (Displacement Addressing)

변위 주소 지정 방식은 **기준 주소 + 변위(오프셋)** 로 실제 주소를 계산한다.

### 주소 계산식

유효 주소 = 기준 주소 + 변위

### 특징

- 연속된 데이터 접근에 유리
- 배열, 구조체 접근에 사용

---

## 6. 베이스 레지스터 주소 지정 방식

베이스 레지스터 주소 지정 방식은 **베이스 레지스터 + 변위** 를 사용한다.

### 주소 계산식

유효 주소 = 베이스 레지스터 값 + 변위

### 특징

- 프로그램 시작 위치가 달라도 사용 가능
- 위치 독립적인 코드 작성에 유리

> 베이스 레지스터는 주소 계산의 **기준점** 역할을 한다.
> 

---

## 7. 주소 지정 방식 요약

| 주소 지정 방식 | 사용 레지스터 | 특징 |
| --- | --- | --- |
| 스택 주소 지정 | SP | 주소 명시 없음 |
| 변위 주소 지정 | 기준 주소 | 연속 데이터 접근 |
| 베이스 레지스터 | Base Register | 위치 독립적 |

---

## 8. 정리

- 레지스터는 CPU 내부의 고속 저장 장치이다
- PC, IR, MAR, MBR은 명령어 실행 흐름의 핵심이다
- SP는 스택 기반 동작에 사용된다
- 베이스 레지스터는 주소 계산의 기준점이다
- 주소 지정 방식은 실제 메모리 주소를 계산하는 방법이다
- 특정 레지스터를 활용하면 효율적인 주소 계산이 가능하다