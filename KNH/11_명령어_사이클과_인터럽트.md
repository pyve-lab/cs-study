# 11강 명령어 사이클과 인터럽트

---

## 1. 명령어 사이클

명령어 사이클이란 CPU가 **하나의 명령어를 처리하는 전체 흐름**을 의미한다.

CPU는 프로그램 실행 동안 이 사이클을 **반복적으로 수행**한다.

---

### 1.1 명령어 사이클의 구성

책과 유튜브 강의에서는 명령어 사이클을 다음 네 단계로 설명한다.

- 명령어 사이클
    - 인출 사이클 (Fetch Cycle)
    - 실행 사이클 (Execute Cycle)
    - 간접 사이클 (Indirect Cycle)

---

### 1.2 인출 사이클 (Fetch Cycle)

- 프로그램 카운터(PC)가 가리키는 주소의 명령어를 메모리에서 가져온다
- 가져온 명령어를 **명령어 레지스터(IR)** 에 저장한다
- PC는 다음 명령어를 가리키도록 갱신된다

> 인출 사이클은 **항상 가장 먼저 수행**된다.
> 

---

### 1.3 실행 사이클 (Execute Cycle)

- 제어장치가 명령어를 해석한다
- 필요한 연산을 수행한다
    - ALU 연산
    - 메모리 접근
    - 레지스터 값 변경

> 실제 명령어의 동작이 수행되는 단계이다.
> 

---

### 1.4 간접 사이클 (Indirect Cycle)

- 명령어의 오퍼랜드가 **간접 주소 지정 방식**을 사용하는 경우 수행된다
- 실제 데이터를 가리키는 주소를
한 번 더 메모리에서 가져온다

> 모든 명령어에서 수행되는 것은 아니며 **필요한 경우에만 실행**된다.
> 

---

## 2. 인터럽트 개요

인터럽트는 CPU가 현재 수행 중인 작업을 잠시 중단하고 **다른 작업을 먼저 처리하도록 하는 메커니즘**이다.

인터럽트는 명령어 사이클 사이에서 발생할 수 있다.

---

## 3. 인터럽트의 분류

### 3.1 동기 인터럽트

- 명령어 실행 결과로 발생
- 프로그램 실행 흐름과 직접적인 관련이 있음

→ **예외(Exception)** 라고도 부른다.

---

### 3.2 비동기 인터럽트

- 명령어 실행과 무관하게 발생
- 외부 장치에 의해 발생

> 현재 정리 기준에서는 **비동기 인터럽트를 하드웨어 인터럽트**라고 칭한다.
> 

---

## 4. 하드웨어 인터럽트

하드웨어 인터럽트는 키보드, 마우스, 디스크 등 **입출력 장치에서 발생하는 인터럽트**이다.

CPU는 하드웨어 인터럽트를 통해 입출력 장치의 요청을 효율적으로 처리한다.

---

### 4.1 하드웨어 인터럽트 처리 순서

하드웨어 인터럽트는 다음과 같은 순서로 처리된다.

---

### 1️⃣ 인터럽트 요청 신호

- 입출력 장치가 CPU에게 인터럽트 요청 신호를 보낸다

---

### 2️⃣ 인터럽트 플래그 확인

- CPU는 **인터럽트 플래그(IF)** 를 확인한다
- IF = 1 → 인터럽트 허용
- IF = 0 → 인터럽트 무시

---

### 3️⃣ 인터럽트 벡터 확인

- CPU는 인터럽트 벡터를 통해 **실행할 인터럽트 서비스 루틴의 주소**를 확인한다

---

### 4️⃣ 인터럽트 서비스 루틴 실행

- 현재 상태를 저장한 뒤
- 해당 인터럽트 서비스 루틴(ISR)을 실행한다

---

### 5️⃣ 원래 작업으로 복귀

- 인터럽트 처리가 끝나면 저장해 두었던 상태를 복원하고
- 중단되었던 작업을 다시 수행한다

---

## 5. 예외 (Exception)

예외는 **프로그램 실행 중 발생하는 동기 인터럽트**이다.

주로 잘못된 명령어 실행이나 예상치 못한 상황에서 발생한다.

---

### 5.1 예외의 종류

### 1️⃣ 예외 (Exception)

- 프로그램 실행 중 발생하는 문제 상황의 총칭

---

### 2️⃣ 폴트 (Fault)

- 예외 발생 후 문제를 해결하면 **다시 실행 가능한 경우**

예: 페이지 폴트

---

### 3️⃣ 트랩 (Trap)

- 예외 발생 후
- **다음 명령어부터 실행**하는 경우

예: 시스템 호출

---

### 4️⃣ 디버깅 예외

- 디버깅 목적으로 발생
- 중단점(Breakpoint) 등

---

### 5️⃣ 중단 (Abort)

- 심각한 오류 발생
- **프로그램 실행을 더 이상 진행할 수 없음**

---

### 6️⃣ 소프트웨어 인터럽트

- 프로그램이 의도적으로 발생시키는 인터럽트
- 시스템 호출 등에 사용

---

## 6. 정리

- 명령어 사이클은 CPU의 기본 실행 흐름이다
- 인출, 실행, 간접 사이클로 구성된다
- 인터럽트는 CPU 작업 흐름을 제어한다
- 비동기 인터럽트는 하드웨어 인터럽트로 구분한다
- 하드웨어 인터럽트는 정해진 처리 순서를 따른다
- 예외는 동기 인터럽트이며 여러 유형으로 나뉜다