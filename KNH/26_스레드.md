# 스레드(Thread)

## 1. 스레드란?

- **스레드(Thread)** 는
    
    **프로세스 내에서 실행되는 흐름의 단위**
    
- 하나의 프로세스는
    - 최소 **하나 이상의 스레드**를 가질 수 있다.

> ❝ 프로세스는 실행 환경,
> 
> 
> 스레드는 실제 실행 흐름 ❞
> 

---

## 2. 프로세스와 스레드의 관계

### 2-1. 프로세스 관점

- 프로세스는:
    - 독립적인 실행 단위
    - 자신만의 자원 보유
        - 메모리 공간
        - 파일
        - 입출력 장치 정보 등

---

### 2-2. 스레드 관점

- 스레드는:
    - **프로세스 내부에서 실행**
    - 프로세스의 자원을 **공유**
    - 실제로 CPU에서 실행되는 대상

👉 **CPU 스케줄링의 대상은 스레드**

---

## 3. 단일 스레드 프로세스

- 하나의 프로세스가
    - **하나의 실행 흐름(스레드)** 만 가짐

### 특징

- 실행 흐름이 하나뿐
- 한 작업이 오래 걸리면
    - 전체 프로그램이 멈춘 것처럼 보임

예:

- 계산 중에는 입력을 받을 수 없는 프로그램

---

## 4. 멀티 스레드 프로세스

- 하나의 프로세스가
    - **여러 개의 스레드**를 가짐
- 여러 실행 흐름이 **동시에 존재**

### 특징

- 작업을 나누어 처리 가능
- 응답성과 효율성 향상

예:

- 한 스레드는 사용자 입력 처리
- 다른 스레드는 파일 처리
- 또 다른 스레드는 화면 출력

---

## 5. 스레드의 구성 요소 (책 기준)

스레드는 실행을 위해 다음 정보를 가진다.

- 스레드 ID
- 프로그램 카운터(PC)
- 레지스터 값
- 스택

👉 **스레드마다 스택은 독립적**

---

## 6. 프로세스 자원 공유

멀티 스레드 프로세스에서 스레드들은

다음 자원을 **공유**한다.

### 공유되는 영역

- 코드 영역
- 데이터 영역
- 힙 영역

### 공유되지 않는 영역

- 스택 영역

👉 그래서 스레드마다

- 함수 호출
- 지역 변수
- 매개변수
    
    를 **각자 관리**할 수 있다.
    

---

## 7. 멀티 스레드의 장점

### 7-1. 효율적인 자원 사용

- 여러 프로세스를 만드는 것보다
- 하나의 프로세스 안에서 스레드를 늘리는 것이
    - 메모리 사용량 감소
    - 생성 비용 감소

---

### 7-2. 응답성 향상

- 한 스레드가 오래 걸리는 작업을 수행해도
- 다른 스레드는 계속 실행 가능

👉 프로그램이 **멈춘 것처럼 보이지 않음**

---

### 7-3. 빠른 문맥 교환

- 프로세스 간 문맥 교환보다
- 스레드 간 문맥 교환이 **더 빠름**
    - 공유 자원이 많기 때문

---

## 8. 멀티 스레드의 단점 (책에서 강조)

### 8-1. 동기화 문제

- 여러 스레드가
    - 같은 자원에 동시에 접근 가능
- 잘못하면
    - 데이터 불일치 발생

👉 이를 해결하기 위해 **동기화**가 필요

(책에서는 “문제가 생길 수 있다”는 수준까지만 언급)

---

### 8-2. 한 스레드의 오류가 전체에 영향

- 스레드는 프로세스 자원을 공유
- 하나의 스레드가 잘못되면
    - 전체 프로세스에 영향 가능

---

## 9. 프로세스 vs 스레드 (책 기준 비교)

| 구분 | 프로세스 | 스레드 |
| --- | --- | --- |
| 실행 단위 | 프로그램 단위 | 실행 흐름 단위 |
| 메모리 | 독립적 | 프로세스 자원 공유 |
| 생성 비용 | 큼 | 작음 |
| 문맥 교환 | 느림 | 빠름 |
| 안정성 | 높음 | 상대적으로 낮음 |

---

## 10. 운영체제 관점에서의 스레드

- 운영체제는
    - 프로세스를 관리하지만
    - 실제 실행 단위로는 **스레드를 관리**
- CPU 스케줄링은
    - **스레드 단위로 수행**

---

## 핵심 요약

- 스레드는 프로세스 내부의 실행 흐름
- 하나의 프로세스는 여러 스레드를 가질 수 있음
- 스레드는 자원을 공유하여 효율적
- 하지만 동기화 문제와 안정성 문제가 존재
- CPU는 실제로 **스레드를 실행**

---

## 한 줄 정리

> ❝ 프로세스가 실행 환경이라면,
> 
> 
> 스레드는 그 안에서 실제로 일하는 작업자다 ❞
>