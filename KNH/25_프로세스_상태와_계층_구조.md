# 프로세스 상태와 계층 구조

## 1. 프로세스 상태(Process State)란?

- 프로세스는 생성된 이후 **하나의 상태에만 머무르지 않고**
- 실행 흐름에 따라 **여러 상태를 오가며 변화**한다.

👉 이 상태의 변화를 **프로세스 상태 전이**라고 한다.

---

## 2. 프로세스의 주요 상태 (책 기준)

운영체제에서 프로세스는 다음과 같은 상태를 가진다.

### 2-1. 생성 상태 (New)

- 프로세스가 **막 생성된 상태**
- 아직 메모리에 완전히 적재되지 않았거나
- PCB가 막 만들어진 단계

---

### 2-2. 준비 상태 (Ready)

- CPU만 할당받으면 **즉시 실행 가능한 상태**
- 필요한 자원(메모리 등)은 이미 확보됨
- 하지만 CPU가 바빠서 **차례를 기다리는 중**

👉 준비 상태의 프로세스들은

**준비 큐(Ready Queue)** 에서 대기

---

### 2-3. 실행 상태 (Running)

- CPU를 할당받아 **현재 실행 중인 상태**
- 한 시점에 **하나의 프로세스만 실행 상태**
    - (단일 CPU 기준)

---

### 2-4. 대기 상태 (Waiting / Blocked)

- 실행 도중 **입출력 작업 등으로 인해 대기하는 상태**
- 예:
    - 파일 읽기 요청
    - 네트워크 응답 대기
- CPU가 있어도 **실행할 수 없음**

👉 입출력이 끝나면 다시 **준비 상태**로 이동

---

### 2-5. 종료 상태 (Terminated)

- 프로세스의 실행이 **완전히 끝난 상태**
- 사용하던 자원 반납
- PCB 폐기

---

## 3. 프로세스 상태 전이 흐름

### 3-1. 기본적인 상태 전이

```
[ 생성(New) ]
      ↓
[ 준비(Ready) ] ←─────────────┐
      ↓                       │
[ 실행(Running) ]             │
   ↓           ↓              │
[ 대기(Waiting) ]             │
   ↓                          │
[ 준비(Ready) ] ──────────────┘
      ↓
[ 종료(Terminated) ]

```

---

### 3-2. 상태 전이 설명

- **생성 → 준비**
    - 프로세스 생성 완료
    - 실행 대기
- **준비 → 실행**
    - CPU 스케줄러에 의해 선택됨
- **실행 → 준비**
    - 타이머 인터럽트 발생
    - CPU 사용 시간 종료
- **실행 → 대기**
    - 입출력 요청 발생
- **대기 → 준비**
    - 입출력 완료
- **실행 → 종료**
    - 프로그램 종료

---

## 4. 프로세스 계층 구조(Process Hierarchy)

### 4-1. 프로세스는 독립적인가?

- ❌ 모든 프로세스가 완전히 독립적이지 않음
- ⭕ 대부분의 운영체제에서
    - **부모 프로세스**
    - **자식 프로세스**
        
        구조를 가진다.
        

👉 즉, **프로세스는 계층 구조**를 이룬다.

---

### 4-2. 부모 프로세스와 자식 프로세스

- **부모 프로세스**
    - 다른 프로세스를 생성한 프로세스
- **자식 프로세스**
    - 부모 프로세스에 의해 생성된 프로세스

예:

- 사용자가 터미널 실행
- 터미널에서 프로그램 실행
- 터미널 = 부모
- 실행된 프로그램 = 자식

---

## 5. 프로세스 생성과 계층 구조

### 5-1. 프로세스 생성 방식 (개념적 흐름)

1. 실행 중인 프로세스가
2. 새로운 프로세스 생성을 요청
3. 운영체제가
    - 새로운 PCB 생성
    - 메모리 할당
4. 부모-자식 관계 형성

---

### 5-2. 자식 프로세스의 특징

- 부모 프로세스의
    - 코드
    - 데이터
    - 자원
        
        일부를 **상속**받을 수 있음
        
- 하지만
    - PID는 **서로 다름**
    - 독립적으로 실행됨

---

## 6. 프로세스 계층 구조의 장점

### 6-1. 자원 관리 용이

- 부모 프로세스 기준으로
    - 자식 프로세스 관리 가능
- 부모 종료 시
    - 자식 프로세스 정리 가능

---

### 6-2. 작업 분할과 구조화

- 하나의 큰 작업을
    - 여러 자식 프로세스로 분할
- 병렬 처리 구조 설계 가능

---

## 7. 프로세스 계층 구조 예시 (개념)

```
부모 프로세스
 ├─ 자식 프로세스A
 │   ├─ 자식 프로세스A-1
 │   └─ 자식 프로세스A-2
 └─ 자식 프로세스B

```

- 이 구조 전체를 **프로세스 트리(Process Tree)** 라고 한다.

---

## 8. 프로세스 상태와 계층 구조의 연결

- 각 프로세스는
    - 자신의 상태를 가짐
    - 자신의 PCB를 가짐
- 부모-자식 관계와 상관없이
    - 상태 전이는 **각각 독립적으로 발생**

👉 단, 부모 종료 시

자식의 상태에 영향을 줄 수 있음 (운영체제 정책에 따라 다름)

---

## 9. 핵심 요약

- 프로세스는 생성부터 종료까지 **여러 상태를 오감**
- 상태 전이는 운영체제가 관리
- CPU 스케줄링과 깊이 연관
- 프로세스는 부모-자식 관계를 가지며 **계층 구조 형성**
- 계층 구조는 자원 관리와 작업 분리에 유리

---

## 한 줄 정리

> ❝ 프로세스는
> 
> 
> 상태를 바꾸며 실행되고,
> 
> 계층 구조 속에서 생성·관리된다 ❞
>