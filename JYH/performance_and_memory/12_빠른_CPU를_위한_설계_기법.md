# CPU 성능 향상과 코어 · 스레드 구조 정리

CPU의 속도를 높이기 위한 주요 설계 기법은 다음 세 가지로 요약할 수 있습니다.

- 클럭 신호를 빠르게 하는 방법
- 코어(Core) 수를 늘리는 방법
- 스레드(Thread) 수를 늘리는 방법

---

## 1. CPU 성능 향상의 기본: 클럭(Clock) 신호 이해

CPU 설계 엔지니어의 핵심 목표는 **더 빠른 CPU를 만드는 것**이며, 그중 가장 단순한 접근 방법이 클럭 신호를 빠르게 만드는 것입니다.

### 1) 클럭 신호와 명령어 실행

- 컴퓨터의 모든 부품은 **클럭 신호에 맞춰 동기화**되어 동작합니다.
- CPU는 **명령어 사이클(Instruction Cycle)**이라는 정해진 흐름에 따라 명령어를 실행하며, 각 단계는 클럭 신호에 맞춰 순차적으로 수행됩니다.

### 2) 클럭 속도와 성능의 관계

- 클럭 신호 주기가 빨라질수록 명령어 사이클이 더 빠르게 반복됩니다.
- 결과적으로 CPU를 포함한 컴퓨터 부품들이 더 빠른 박자에 맞춰 동작하게 되므로, 일반적으로 클럭 속도가 높을수록 성능이 향상됩니다.

### 3) 클럭 속도의 단위 : 헤르츠(Hz)

- **정의**: 1초 동안 클럭 신호가 반복되는 횟수를 의미합니다.
- **예시**: 1초에 1회 반복되면 **1Hz**, 1초에 100회 반복되면 **100Hz**입니다.

### 4) 실제 CPU의 클럭 속도 특성

- 실제 CPU는 항상 동일한 속도로 동작하지 않고 상황에 따라 **유연하게 클럭 속도를 조절**합니다.
- **예시**: 사양에 `Base 2.5GHz / Max 4.9GHz`라고 표시된 경우
  - 평소에는 1초당 클럭이 약 25억 번 반복됩니다.
  - 고성능이 필요할 때는 순간적으로 최대 약 49억 번까지 반복됨을 의미합니다.

---

## 2. 클럭 속도 외의 성능 향상 방법: 코어와 스레드

클럭 속도를 무작정 높이면 **발열과 전력 소모 문제**가 발생합니다. 이를 극복하기 위해 클럭 외의 설계 기법이 중요해졌습니다.

- **코어 수 증가**: 듀얼코어, 쿼드코어 등 멀티코어 CPU 설계
- **스레드 수 증가**: 하나의 코어가 여러 작업을 동시에 처리하도록 설계

---

## 3. 코어(Core)의 정의와 멀티코어 설계

코어의 개념을 정확히 이해하기 위해서는 CPU를 현대적인 관점에서 재해석할 필요가 있습니다.

### 1) 전통적인 CPU 관점

- CPU는 명령어를 인출(Fetch), 해석하고(Decode), 실행하는(Execute) 단일 부품이었으며 내부에 **하나만 존재**했습니다.

### 2) 현대적인 CPU 관점: 코어의 정의

- 오늘날 CPU 내부에도 명령어를 인출·해석·실행하는 부품이 여러 개 존재할 수 있게 되었는데, 이 부품을 **코어(Core)**라고 부릅니다.

### 3) 멀티코어 CPU

- 여러 개의 코어를 가진 CPU를 **멀티코어 CPU**라고 합니다.

#### a. 싱글코어
- 코어가 하나뿐인 전통적인 CPU
- 이 경우 CPU와 코어는 사실상 동일한 개념이었습니다.

#### b. 멀티코어 명칭
- 2코어 → 듀얼코어
- 3코어 → 트리플코어
- 4코어 → 쿼드코어
- 6코어 → 헥사코어
- 2개 이상의 코어를 가진 CPU를 통칭하여 멀티코어 CPU라고 합니다.

### 4) 코어 수와 성능의 관계

- 코어 수를 늘린다고 해서 성능이 비례해서 증가하지는 않습니다.
- **조별 과제 비유**: 4명이 한 조여도 역할 분담이 안 되면 결과물이 4배가 되지 않는 것과 같습니다.
- **작업량 비유**: 4인분 도시락을 1,000명이 만든다고 해서 속도가 무한정 빨라지지 않는 것과 같습니다.
- **핵심**: 여러 코어에 **명령어를 얼마나 효율적으로 분배하느냐**가 전체 성능을 좌우합니다.

---

## 4. 스레드(Thread)의 정의와 하드웨어 · 소프트웨어 구분

스레드는 하드웨어와 운영체제 소프트웨어 양쪽에서 모두 사용되는 용어이므로  
명확한 구분이 필요합니다.

> 스레드는 **하드웨어적 스레드**와 **소프트웨어적 스레드**로 구분됩니다.

---

### 1) 하드웨어적인 스레드 (논리 프로세서)
- **정의**: 하나의 코어가 동시에 처리할 수 있는 명령어 단위를 의미합니다.
- **멀티스레드 CPU**: 하나의 코어가 동시에 여러 명령어를 처리하는 방식입니다.
  - **예시**: 2코어 4스레드 CPU는 코어가 2개이고, 각 코어가 2개씩 명령어를 처리해 총 4개를 동시에 실행합니다.
  - **하이퍼스레딩(Hyper-Threading)**: 인텔의 멀티스레드 기술 명칭입니다.
- **특징**: 프로그램이 인식하는 논리적인 CPU 개수이므로 **논리 프로세서**라고도 부르며, 윈도우 작업 관리자에서 확인할 수 있습니다.

---

### 2) 소프트웨어적인 스레드
- **정의**: 하나의 프로그램에서 독립적으로 실행되는 단위입니다.
- **워드프로세서 예시**: '화면 출력', '맞춤법 검사', '자동 저장' 기능을 동시에 처리하기 위해 3개의 소프트웨어 스레드를 생성할 수 있습니다.
- **이해 포인트**: 소프트웨어 스레드를 여러 개 만들면 프로그램이 동시에 여러 작업을 수행할 수 있게 됩니다.

> 현재 단계에서는 “소프트웨어 스레드를 여러 개 만들면 하나의 프로그램이 동시에 여러 작업을 수행할 수 있다” 정도로 이해

---

## 5. 하드웨어 스레드와 소프트웨어 스레드의 관계

- 1코어 1스레드 CPU에서도 여러 개의 소프트웨어 스레드를 생성할 수 있습니다.

### 동시 실행이 가능한 이유

- CPU가 내부적으로 여러 작업을 **아주 빠르게 번갈아 실행**하기 때문에 사용자 입장에서는 동시에 실행되는 것처럼 보입니다.

### 핵심 정리

- 스레드를 단일 개념으로 외우기보다는 하드웨어 스레드, 소프트웨어 스레드 두 개념을 **이원화하여 이해**하는 것이 나중에 혼란을 줄일 수 있습니다.

---

## 6. 멀티스레드 프로세서 설계의 핵심: 레지스터 세트

멀티스레드 프로세서 설계에서 가장 중요한 요소는 **레지스터(Register)**입니다.

### 레지스터 세트(Register Set)

- 하나의 명령어를 실행하는 데 필수적인 레지스터들의 묶음입니다.
- 예: 프로그램 카운터(PC), 명령어 레지스터(IR), 스택 포인터(SP) 등

### 멀티스레드 구현 원리

- 하나의 코어 내부에 **레지스터 세트가 여러 개** 존재하면, 여러 명령어를 동시에 관리하고 처리할 수 있습니다.

#### 예시
- 프로그램 카운터가 2개 → 다음에 실행할 명령어 주소를 2개 관리 가능
- 스택 포인터가 2개 → 2개의 스택을 동시에 관리 가능

### 결론

- 하나의 코어가 명령어 실행에 필요한 레지스터 세트를 여러 개 보유하면 멀티스레드 프로세서 설계가 가능합니다. 이것이 하드웨어 멀티스레드의 가장 핵심적인 구조입니다.

---

## 7. 용어정리 및 결론

- CPU의 하드웨어 스레드는 프로그램 입장에서 '하나의 독립된 CPU'처럼 보이기 때문에 '논리 프로세서'라고 부릅니다. 
- 프로그램은 이 논리 프로세서의 개수만큼 명령어를 던질 뿐, 내부의 실제 코어 구조까지는 알 필요가 없습니다.

- **논리 프로세서(Logical Processor)**
  - 하드웨어 스레드를 부르는 또 다른 이름입니다. 실행 중인 프로그램이 "내 명령어를 처리해 줄 CPU가 이만큼 있구나"라고 인식하는 개수입니다.

- **윈도우 작업 관리자**
  - '성능' 탭에서 내 컴퓨터의 실제 코어 수와 논리 프로세서(스레드) 수를 한눈에 확인할 수 있습니다.
