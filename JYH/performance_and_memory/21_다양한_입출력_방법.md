# 다양한 입출력 방법

입출력 장치가 컴퓨터 내부와 정보를 주고받는 세 가지 핵심 방식인 **프로그램 입출력, 인터럽트 기반 입출력, DMA 입출력**에 대해 정리합니다.

---

## 1. 프로그램 입출력 (Programmed I/O)
CPU가 프로그램 속 명령어를 통해 장치 컨트롤러의 레지스터를 직접 읽고 쓰는 방식입니다.

* **동작 원리**: CPU가 장치 컨트롤러의 상태를 주기적으로 확인하며 데이터를 주고받습니다.
* **주소 지정 방식**:
    * **메모리 맵 입출력 (Memory-Mapped I/O)**: 메모리와 입출력 장치를 하나의 주소 공간으로 간주합니다. 메모리 접근 명령어와 입출력 명령어가 같습니다.
    * **고립형 입출력 (Isolated I/O)**: 메모리와 입출력 장치의 주소 공간을 분리합니다. 입출력 전용 명령어(`IN`, `OUT` 등)를 사용합니다.

---

## 2. 인터럽트 기반 입출력 (Interrupt-Driven I/O)
장치 컨트롤러가 입출력 준비가 완료되면 CPU에 **인터럽트 요청 신호**를 보내 알리는 방식입니다.

* **장점**: CPU가 장치의 상태를 계속 확인(폴링)할 필요가 없어 효율적입니다.
* **다중 인터럽트 처리**:
    * **PIC (Programmable Interrupt Controller)**: 여러 장치 컨트롤러의 인터럽트 중 우선순위를 판단하여 CPU에 전달하는 하드웨어입니다.
    * **NMI (Non-Maskable Interrupt)**: 무시할 수 없는 가장 높은 우선순위의 인터럽트(하드웨어 고장, 정전 등)입니다.



---

## 3. DMA 입출력 (Direct Memory Access)
CPU를 거치지 않고 입출력 장치와 메모리가 직접 데이터를 주고받는 방식입니다.

* **배경**: 대용량 데이터 이동 시 모든 데이터가 CPU를 거치면 CPU의 연산 시간이 뺏기는 문제가 발생합니다.
* **동작 과정**:
    1. CPU가 **DMA 컨트롤러**에 작업을 명령합니다.
    2. DMA 컨트롤러가 CPU 대신 장치 컨트롤러와 메모리 사이의 데이터 전송을 주도합니다.
    3. 전송이 끝나면 CPU에 인터럽트를 보내 보고합니다.
* **사이클 스틸링 (Cycle Stealing)**: DMA가 시스템 버스를 사용할 때 CPU가 일시적으로 버스 사용을 양보하는 것을 의미합니다.



---

## 4. 입출력 버스 (I/O Bus)
수많은 입출력 장치가 시스템 버스에 직접 연결되어 버스를 점유하는 것을 방지하기 위한 전용 버스입니다.

* **구조**: CPU/메모리가 사용하는 **시스템 버스**와 입출력 장치가 사용하는 **입출력 버스**를 분리합니다.
* **종류**: PCI 버스, PCI Express(PCIe) 등.
* **입출력 채널 (I/O Channel)**: 최근에는 입출력 전용 프로세서를 두어 CPU의 도움 없이 독립적으로 입출력을 관리하기도 합니다.

---

## 요약 비교

| 방식 | 주도권 | 데이터 경로 | 특징 |
| :--- | :--- | :--- | :--- |
| **프로그램 입출력** | CPU | 장치 ↔ CPU ↔ 메모리 | CPU가 계속 상태를 확인(폴링) |
| **인터럽트 기반** | 장치 컨트롤러 | 장치 ↔ CPU ↔ 메모리 | 완료 시에만 CPU가 개입 |
| **DMA 입출력** | DMA 컨트롤러 | 장치 ↔ 메모리 (직접) | **CPU를 거치지 않음**, 효율 최상 |