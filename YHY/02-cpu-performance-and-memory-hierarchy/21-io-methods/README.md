# π§  21κ°• λ‹¤μ–‘ν• μ…μ¶λ ¥ λ°©λ²•

> **ν•µμ‹¬ ν• μ¤„ μ”μ•½**  
> μ…μ¶λ ¥μ€ ν¬κ² **ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥**, **μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥**, **DMA μ…μ¶λ ¥**μΌλ΅ λ‚λ‰λ©°, ν•µμ‹¬ μ°¨μ΄λ” **CPUκ°€ λ°μ΄ν„° μ΄λ™μ— μ–Όλ§λ‚ κ΄€μ—¬ν•λλƒ**μ΄λ‹¤.

---

## π“ λ©μ°¨
- [π§  21κ°• λ‹¤μ–‘ν• μ…μ¶λ ¥ λ°©λ²•](#-21κ°•-λ‹¤μ–‘ν•-μ…μ¶λ ¥-λ°©λ²•)
  - [π“ λ©μ°¨](#-λ©μ°¨)
  - [π§© κ°μ”](#-κ°μ”)
  - [π–¥ ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥](#-ν”„λ΅κ·Έλ¨-μ…μ¶λ ¥)
    - [β… λ™μ‘ μμ‹: ν•λ“ λ””μ¤ν¬μ— λ°±μ—…(μ“°κΈ°)](#-λ™μ‘-μμ‹-ν•λ“-λ””μ¤ν¬μ—-λ°±μ—…μ“°κΈ°)
    - [β… λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥ vs κ³ λ¦½ν• μ…μ¶λ ¥](#-λ©”λ¨λ¦¬-λ§µ-μ…μ¶λ ¥-vs-κ³ λ¦½ν•-μ…μ¶λ ¥)
  - [π”” μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥](#-μΈν„°λ½νΈ-κΈ°λ°-μ…μ¶λ ¥)
    - [β… ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ](#-ν•λ“μ›¨μ–΄-μΈν„°λ½νΈ)
    - [β… λ™μ‹λ‹¤λ°μ μΈ μΈν„°λ½νΈμ™€ μ°μ„ μμ„](#-λ™μ‹λ‹¤λ°μ μΈ-μΈν„°λ½νΈμ™€-μ°μ„ μμ„)
    - [β… PIC(Programmable Interrupt Controller)](#-picprogrammable-interrupt-controller)
  - [π¤ ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥κ³Ό μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥μ κ³µν†µμ ](#-ν”„λ΅κ·Έλ¨-μ…μ¶λ ¥κ³Ό-μΈν„°λ½νΈ-κΈ°λ°-μ…μ¶λ ¥μ-κ³µν†µμ )
  - [π€ DMA(Direct Memory Access) μ…μ¶λ ¥](#-dmadirect-memory-access-μ…μ¶λ ¥)
    - [β… DMA λ™μ‘ κ³Όμ •](#-dma-λ™μ‘-κ³Όμ •)
    - [β… μ‹μ¤ν… λ²„μ¤μ™€ Cycle stealing](#-μ‹μ¤ν…-λ²„μ¤μ™€-cycle-stealing)
  - [π§· μ…μ¶λ ¥ λ²„μ¤](#-μ…μ¶λ ¥-λ²„μ¤)
  - [π“ ν•λμ— λΉ„κµ ν‘](#-ν•λμ—-λΉ„κµ-ν‘)
    - [β… μµμΆ… μ •λ¦¬](#-μµμΆ…-μ •λ¦¬)

---

## π§© κ°μ”

- λ€ν‘μ μΈ μ…μ¶λ ¥ λ°©μ‹ 3κ°€μ§€
  1. **ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥(Programmed I/O)**
  2. **μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥(Interrupt-driven I/O)**
  3. **DMA μ…μ¶λ ¥(Direct Memory Access, DMA)**

<img src="./images/overview.png" alt="μ…μ¶λ ¥ λ°©μ‹ κ°μ”(ν”„λ΅κ·Έλ¨/μΈν„°λ½νΈ/DMA)" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ‹μ¤ν… λ²„μ¤ κ΄€μ μ—μ„ ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥/μΈν„°λ½νΈ/DMAκ°€ μ–΄λ–»κ² λ‹¤λ¥Έμ§€ ν° κ·Έλ¦ΌμΌλ΅ μ •λ¦¬

---

## π–¥ ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥

- **ν”„λ΅κ·Έλ¨ μ† λ…λ Ήμ–΄λ΅** μ…μ¶λ ¥ μ¥μΉλ¥Ό μ μ–΄ν•λ” λ°©μ‹
- CPUκ°€ **μ…μ¶λ ¥ λ…λ Ήμ–΄**λ΅ **μ¥μΉ μ»¨νΈλ΅¤λ¬μ λ μ§€μ¤ν„°**μ™€ μƒνΈμ‘μ©ν•λ‹¤.
  - μ μ–΄ λ μ§€μ¤ν„°(control register): β€λ¬΄μ¨ μ‘μ—…μ„ ν•΄λΌβ€ κ°™μ€ λ…λ Ή
  - μƒνƒ λ μ§€μ¤ν„°(status register): μ¥μΉκ°€ μ¤€λΉ„λλ”μ§€/λ°”μμ§€ κ°™μ€ μƒνƒ
  - λ°μ΄ν„° λ μ§€μ¤ν„°(data register): μ‹¤μ  λ°μ΄ν„°κ°€ μ¤κ°€λ” ν†µλ΅

<img src="./images/programmed-io-01-command.png" alt="ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥: CPUκ°€ μ¥μΉ μ»¨νΈλ΅¤λ¬μ— μ“°κΈ° λ…λ Ή" width="900" />

> κ·Έλ¦Ό μ„¤λ…: CPUκ°€ μ¥μΉ μ»¨νΈλ΅¤λ¬μ **μ μ–΄ λ μ§€μ¤ν„°**μ— β€μ“°κΈ°β€™ κ°™μ€ λ…λ Ήμ„ λ‚΄λ¦¬λ” λ‹¨κ³„

<img src="./images/programmed-io-02-ready.png" alt="ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥: μ¥μΉ μ¤€λΉ„ μ™„λ£ μƒνƒ ν‘μ‹" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ¥μΉ μƒνƒλ¥Ό ν™•μΈν•κ³ , **μƒνƒ λ μ§€μ¤ν„°**μ— β€μ¤€λΉ„ μ™„λ£β€™λ¥Ό ν‘μ‹ν•λ” λ‹¨κ³„

<img src="./images/programmed-io-03-polling-data.png" alt="ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥: ν΄λ§ν•λ©° λ°μ΄ν„° λ μ§€μ¤ν„°λ΅ μ „μ†΅" width="900" />

> κ·Έλ¦Ό μ„¤λ…: CPUκ°€ μƒνƒ λ μ§€μ¤ν„°λ¥Ό κ³„μ† ν™•μΈ(ν΄λ§)ν•λ‹¤κ°€, μ¤€λΉ„λλ©΄ **λ°μ΄ν„° λ μ§€μ¤ν„°**μ— β€μ €μ¥ν•  λ°μ΄ν„°β€λ¥Ό μ¨μ„ μ „μ†΅ν•λ” λ‹¨κ³„

---

### β… λ™μ‘ μμ‹: ν•λ“ λ””μ¤ν¬μ— λ°±μ—…(μ“°κΈ°)

λ©”λ¨λ¦¬μ— μλ” λ°μ΄ν„°λ¥Ό ν•λ“ λ””μ¤ν¬μ— μ €μ¥ν•λ‹¤κ³  κ°€μ •ν•λ©΄ νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤.

1. **CPU β†’ ν•λ“ λ””μ¤ν¬ μ»¨νΈλ΅¤λ¬μ μ μ–΄ λ μ§€μ¤ν„°**μ— β€μ“°κΈ° λ…λ Ήβ€ μ „λ‹¬  
2. ν•λ“ λ””μ¤ν¬ μ»¨νΈλ΅¤λ¬κ°€ μƒνƒλ¥Ό ν™•μΈν• λ’¤  
   **μƒνƒ λ μ§€μ¤ν„°**μ— β€μ¤€λΉ„ μ™„λ£(ready)β€ ν‘μ‹  
3. CPUκ°€ μ‘μ—… μ™„λ£κΉμ§€ λ°λ³µ
   - CPUλ” **μƒνƒ λ μ§€μ¤ν„°λ¥Ό μ£ΌκΈ°μ μΌλ΅ ν™•μΈ(ν΄λ§, polling)**  
   - μ¤€λΉ„λλ©΄ CPUκ°€ λ°±μ—…ν•  λ°μ΄ν„°λ¥Ό **λ°μ΄ν„° λ μ§€μ¤ν„°μ— κΈ°λ΅**
   - μ•„μ§ μ‘μ—…μ΄ λλ‚μ§€ μ•μ•λ‹¤λ©΄ λ‹¤μ‹ μƒνƒ ν™•μΈ β†’ λ°λ³µ

> π“ ν¬μΈνΈ: CPUκ°€ β€κ³„μ† ν™•μΈν•λ©΄μ„ κΈ°λ‹¤λ¦¬λ”(ν΄λ§)β€ μ‹κ°„μ΄ μƒκΈΈ μ μμ–΄ λΉ„ν¨μ¨μ μ΄λ‹¤.

---

### β… λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥ vs κ³ λ¦½ν• μ…μ¶λ ¥

- **λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥(Memory-mapped I/O)**
  - λ©”λ¨λ¦¬ μ£Όμ† κ³µκ°„κ³Ό I/O μ£Όμ† κ³µκ°„μ„ **ν•λ‚μ μ£Όμ† κ³µκ°„**μΌλ΅ μ·¨κΈ‰
  - κ²°κ³Όμ μΌλ΅ **λ©”λ¨λ¦¬ μ ‘κ·Ό λ…λ Ήμ–΄ = I/O μ ‘κ·Ό λ…λ Ήμ–΄**λ΅ μ ‘κ·Ό κ°€λ¥

<img src="./images/memory-mapped-io.png" alt="λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥: μ£Όμ† κ³µκ°„μ„ κ³µμ " width="900" />

> κ·Έλ¦Ό μ„¤λ…: λ©”λ¨λ¦¬ μ£Όμ† κ³µκ°„ μ•μ— μ…μ¶λ ¥μ¥μΉ μ£Όμ†κ°€ ν¬ν•¨λμ–΄ β€κ°™μ€ μ£Όμ† κ³µκ°„β€μ²λΌ μ ‘κ·Ό κ°€λ¥

- **κ³ λ¦½ν• μ…μ¶λ ¥(Isolated I/O)**
  - λ©”λ¨λ¦¬μ© μ£Όμ† κ³µκ°„κ³Ό I/Oμ© μ£Όμ† κ³µκ°„μ„ **λ¶„λ¦¬**
  - I/O μ „μ© λ…λ Ήμ–΄(λλ” I/O μ½κΈ°/μ“°κΈ° μ μ–΄μ„ )λ¥Ό μ‚¬μ©ν•΄ μ¥μΉ μ ‘κ·Ό

<img src="./images/isolated-io-01.png" alt="κ³ λ¦½ν• μ…μ¶λ ¥: μ£Όμ† κ³µκ°„ λ¶„λ¦¬ κ°λ…" width="900" />

> κ·Έλ¦Ό μ„¤λ…: λ©”λ¨λ¦¬μ™€ I/Oκ°€ μ„λ΅ λ‹¤λ¥Έ μ£Όμ† κ³µκ°„μ„ μ“°λ„λ΅ λ¶„λ¦¬ν•λ” κ°λ…

<img src="./images/isolated-io-02-address-space.png" alt="κ³ λ¦½ν• μ…μ¶λ ¥: λ©”λ¨λ¦¬/μ…μ¶λ ¥ μ£Όμ† κ³µκ°„ λ¶„λ¦¬" width="900" />

> κ·Έλ¦Ό μ„¤λ…: β€λ©”λ¨λ¦¬ μ£Όμ† κ³µκ°„β€™κ³Ό β€μ…μ¶λ ¥μ¥μΉ μ£Όμ† κ³µκ°„β€™μ΄ μ™„μ „ν λ‚λ‰μ–΄ μμμ„ κ°•μ΅°

<img src="./images/memory-mapped-vs-isolated-io.png" alt="λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥ vs κ³ λ¦½ν• μ…μ¶λ ¥ λΉ„κµν‘" width="900" />

> κ·Έλ¦Ό μ„¤λ…:  
> - λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥: κ°™μ€ μ£Όμ† κ³µκ°„ μ‚¬μ© β†’ λ©”λ¨λ¦¬ κ³µκ°„μ΄ μΌλ¶€ μ¤„μ–΄λ“¤ μ μμ, κ°™μ€ λ…λ Ήμ–΄λ΅ μ ‘κ·Ό κ°€λ¥  
> - κ³ λ¦½ν• μ…μ¶λ ¥: μ£Όμ† κ³µκ°„ λ¶„λ¦¬ β†’ λ©”λ¨λ¦¬ κ³µκ°„ μ μ§€, μ…μ¶λ ¥ μ „μ© λ…λ Ήμ–΄ μ‚¬μ©

---

## π”” μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥

- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ” λ³΄ν†µ **μ¥μΉ μ»¨νΈλ΅¤λ¬**κ°€ λ°μƒμ‹ν‚¨λ‹¤.
- CPUλ” β€κ³„μ† μƒνƒλ¥Ό ν™•μΈ(ν΄λ§)β€ν•μ§€ μ•μ•„λ„ λκ³ ,  
  **ν•„μ”ν•  λ•λ§ μΈν„°λ½νΈκ°€ μ™€μ„ μ²λ¦¬**ν•λ©΄ λλ‹¤.

### β… ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ

<img src="./images/hardware-interrupt.png" alt="ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ: μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ CPUμ— μΈν„°λ½νΈ μ”μ²­" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ‘μ—… μ™„λ£/μ²λ¦¬ ν•„μ” μƒν™©μ„ CPUμ— **μΈν„°λ½νΈ μ”μ²­**μΌλ΅ μ•λ¦¬λ” κΈ°λ³Έ κµ¬μ΅°

---

### β… λ™μ‹λ‹¤λ°μ μΈ μΈν„°λ½νΈμ™€ μ°μ„ μμ„

- μ¥μΉκ°€ λ§μ•„μ§€λ©΄ μΈν„°λ½νΈλ„ λ™μ‹μ— λ§μ΄ λ°μƒν•  μ μλ‹¤.
- κΈ°λ³Έμ μΌλ΅λ” **λ°μƒ μμ„λ€λ΅ μ²λ¦¬**ν•μ§€λ§, νΉμ • μƒν™©μ—μ„λ” μ°μ„ μμ„κ°€ ν•„μ”ν•λ‹¤.
  - CPUκ°€ μΈν„°λ½νΈ μ²λ¦¬ μ¤‘ **μΈν„°λ½νΈ λΉ„νΈ(ν”λκ·Έ λ μ§€μ¤ν„°)λ¥Ό λΉ„ν™μ„±ν™”**ν• κ²½μ°
  - νΉμ€ λΉ„ν™μ„±ν™”ν•΄λ„ λ¬΄μ‹ν•  μ μ—†λ” **NMI(Non-Maskable Interrupt)**κ°€ λ°μƒν• κ²½μ°  
  β†’ CPUλ” **μ°μ„ μμ„κ°€ λ†’μ€ μΈν„°λ½νΈλ¶€ν„°** μ²λ¦¬ν•κ² λλ‹¤.

<img src="./images/concurrent-interrupts.png" alt="λ™μ‹λ‹¤λ°μ μΈ μΈν„°λ½νΈ: μ—¬λ¬ μ¥μΉκ°€ λ™μ‹μ— μ”μ²­" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ—¬λ¬ μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ CPUμ— λ™μ‹μ— μΈν„°λ½νΈλ¥Ό μ”μ²­ν•λ” μƒν™©(κ²½ν•©)

<img src="./images/concurrent-interrupts-with-priority.png" alt="μ°μ„ μμ„λ¥Ό λ°μν• μΈν„°λ½νΈ μ²λ¦¬" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μΈν„°λ½νΈ μ°μ„ μμ„μ— λ”°λΌ μ–΄λ–¤ μ„λΉ„μ¤ λ£¨ν‹΄μ„ λ¨Όμ € μ²λ¦¬ν• μ§€ λ‹¬λΌμ§€λ” νλ¦„

---

### β… PIC(Programmable Interrupt Controller)

PICλ” μ—¬λ¬ μ¥μΉμ—μ„ μ¬λΌμ¤λ” μΈν„°λ½νΈλ¥Ό **μ •λ¦¬/μ°μ„ μμ„ νλ‹¨**ν•΄μ„ CPUμ— μ „λ‹¬ν•λ” ν•λ“μ›¨μ–΄λ‹¤.

- μ—­ν• 
  1. μ—¬λ¬ μ¥μΉ μ»¨νΈλ΅¤λ¬μ— μ—°κ²°λμ–΄
  2. μΈν„°λ½νΈμ **μ°μ„ μμ„**λ¥Ό νλ‹¨ν• λ’¤
  3. CPUμ—κ² β€μ§€κΈ μ²λ¦¬ν•΄μ•Ό ν•  μΈν„°λ½νΈβ€λ¥Ό μ•λ ¤μ¤€λ‹¤
- μ£Όμ
  - μΌλ°μ μΌλ΅ **NMIμ μ°μ„ μμ„κΉμ§€λ” νλ‹¨ν•μ§€ μ•μ**

<img src="./images/pic-basic.png" alt="PIC: μΈν„°λ½νΈλ“¤μ„ λ¨μ•„ CPUλ΅ μ „λ‹¬" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ—¬λ¬ μΈν„°λ½νΈ μ…λ ¥μ„ PICκ°€ λ°›μ•„ μ •λ¦¬ν• ν›„ CPUμ— μ „λ‹¬

<img src="./images/pic-cascade.png" alt="λ‹¤μ¤‘ PIC κµ¬μ„±(ν™•μ¥ κµ¬μ΅°)" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ¥μΉ μκ°€ λ§μ•„ μΈν„°λ½νΈ μ…λ ¥μ΄ λμ–΄λ‚λ©΄ PICλ¥Ό μ—¬λ¬ κ°λ΅ ν™•μ¥(λ‹¤μ¤‘ PIC)ν•λ” κµ¬μ΅°

---

## π¤ ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥κ³Ό μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥μ κ³µν†µμ 

- **μ…μ¶λ ¥μ¥μΉ β†” λ©”λ¨λ¦¬** κ°„ λ°μ΄ν„° μ΄λ™μ€ **CPUκ°€ μ£Όλ„**
- μ΄λ™ν•λ” λ°μ΄ν„°λ” **λ°λ“μ‹ CPUλ¥Ό κ±°μΉλ‹¤**

> π“ κ²°λ΅ : CPUκ°€ β€λ°μ΄ν„° μ΄λ°β€κΉμ§€ λ§΅λ” κµ¬μ΅°λΌ, I/Oκ°€ λ§μΌλ©΄ CPU λ¶€λ‹΄μ΄ μ»¤μ§ μ μλ‹¤.

---

## π€ DMA(Direct Memory Access) μ…μ¶λ ¥

- CPUλ¥Ό κ±°μΉμ§€ μ•κ³  **μ…μ¶λ ¥μ¥μΉκ°€ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Ό**ν•κ² ν•λ” λ°©μ‹
- DMAλ¥Ό μ„ν•΄μ„λ” **DMA μ»¨νΈλ΅¤λ¬**λΌλ” ν•λ“μ›¨μ–΄κ°€ ν•„μ”ν•λ‹¤.

<img src="./images/dma-overview.png" alt="DMA κ°μ”(μ¥μΉ-λ©”λ¨λ¦¬ μ§μ ‘ μ „μ†΅)" width="900" />

> κ·Έλ¦Ό μ„¤λ…: DMA μ»¨νΈλ΅¤λ¬κ°€ μ „μ†΅μ„ λ‹΄λ‹Ήν•΄ λ°μ΄ν„°κ°€ CPUλ¥Ό κ±°μΉμ§€ μ•κ² λλ‹¤

### β… DMA λ™μ‘ κ³Όμ •

1. CPUκ°€ DMA μ»¨νΈλ΅¤λ¬μ—κ² **μ…μ¶λ ¥ μ‘μ—…μ„ λ…λ Ή**
2. DMA μ»¨νΈλ΅¤λ¬κ°€ CPU λ€μ‹  **μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ μƒνΈμ‘μ©**ν•λ©° μ „μ†΅ μν–‰  
   - ν•„μ”ν•λ©΄ **λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Ό**ν•΄μ„ λ°μ΄ν„° μ΄λ™
3. μ‘μ—…μ΄ λλ‚λ©΄ DMA μ»¨νΈλ΅¤λ¬κ°€ **μΈν„°λ½νΈ**λ΅ CPUμ— μ™„λ£λ¥Ό μ•λ¦Ό

> β… ν¬μΈνΈ: CPUλ” **μ‹μ‘(λ…λ Ή)**κ³Ό **λ(μ™„λ£ ν†µμ§€)**λ§ κ΄€μ—¬ν•λ‹¤.

<img src="./images/dma-step-01-request.png" alt="DMA λ™μ‘ 1: CPUκ°€ DMAμ—κ² μ‘μ—… μ”μ²­" width="900" />

> κ·Έλ¦Ό μ„¤λ…: CPUκ°€ DMA μ»¨νΈλ΅¤λ¬μ— β€μ…μ¶λ ¥ μ‘μ—…β€μ„ λ§΅κΈ°λ” μ‹μ‘ λ‹¨κ³„

<img src="./images/dma-step-02-transfer.png" alt="DMA λ™μ‘ 2: DMAκ°€ μ¥μΉ/λ©”λ¨λ¦¬ μ „μ†΅ μν–‰" width="900" />

> κ·Έλ¦Ό μ„¤λ…: DMAκ°€ μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ μƒνΈμ‘μ©ν•λ©° λ°μ΄ν„° μ „μ†΅μ„ μ§„ν–‰(ν•„μ” μ‹ λ©”λ¨λ¦¬ μ§μ ‘ μ ‘κ·Ό)

<img src="./images/dma-step-03-interrupt.png" alt="DMA λ™μ‘ 3: μ™„λ£ ν›„ μΈν„°λ½νΈλ΅ CPU ν†µμ§€" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ „μ†΅ μ™„λ£ μ‹ DMA μ»¨νΈλ΅¤λ¬κ°€ μΈν„°λ½νΈλ΅ CPUμ— β€λλ‚¨β€μ„ μ•λ¦¬λ” λ‹¨κ³„

---

### β… μ‹μ¤ν… λ²„μ¤μ™€ Cycle stealing

- DMAλ„ λ°μ΄ν„° μ „μ†΅μ„ μ„ν•΄ **μ‹μ¤ν… λ²„μ¤**λ¥Ό μ‚¬μ©ν•λ‹¤.
- μ‹μ¤ν… λ²„μ¤λ” **κ³µμ© μμ›**μ΄λΌ λ™μ‹μ— μ‚¬μ©ν•  μ μ—†λ‹¤.

μ΄λ¥Ό μ™„ν™”ν•λ” κ°λ…μ΄ **Cycle stealing**μ΄λ‹¤.

- Cycle stealing
  1. CPUκ°€ μ‹μ¤ν… λ²„μ¤λ¥Ό μ‚¬μ©ν•μ§€ μ•μ„ λ• DMAκ°€ μ΅°κΈμ”© μ‚¬μ©
  2. λλ” CPUκ°€ μ κΉ λ²„μ¤λ¥Ό μ–‘λ³΄ν•λ„λ΅ ν•κ³  DMAκ°€ μ‚¬μ©

<img src="./images/dma-cycle-stealing.png" alt="Cycle stealing: DMAμ μ‹μ¤ν… λ²„μ¤ μ΄μ© λ°©λ²•" width="900" />

> κ·Έλ¦Ό μ„¤λ…: DMAκ°€ λ²„μ¤λ¥Ό β€ν‹ν‹μ΄β€ μ“°κ±°λ‚ β€μ κΉ μ–‘λ³΄β€λ¥Ό λ°›μ•„ μ‚¬μ©ν•΄ κ²½ν•©μ„ μ¤„μ΄λ” λ°©μ‹

---

## π§· μ…μ¶λ ¥ λ²„μ¤

- DMAκ°€ μ‹μ¤ν… λ²„μ¤λ¥Ό μμ£Ό μ‚¬μ©ν•λ©΄ μ‹μ¤ν… λ²„μ¤κ°€ λ³‘λ©μ΄ λ  μ μλ‹¤.
- μ΄λ¥Ό μ¤„μ΄κΈ° μ„ν•΄ **μ…μ¶λ ¥ λ²„μ¤(I/O bus)**λ¥Ό λ‘μ–΄  
  **μ‹μ¤ν… λ²„μ¤ μ‚¬μ© λΉλ„**λ¥Ό λ‚®μ¶λ‹¤.

- μμ‹: **PCI**, **PCIe**
- κµ¬μ΅° μ: `μ¬λ΅― β†’ μ…μ¶λ ¥ λ²„μ¤ β†’ μ‹μ¤ν… λ²„μ¤`

<img src="./images/io-bus.png" alt="μ…μ¶λ ¥ λ²„μ¤: I/O busλ¥Ό ν†µν•΄ μ‹μ¤ν… λ²„μ¤ λ¶€λ‹΄ μ™„ν™”" width="900" />

> κ·Έλ¦Ό μ„¤λ…: μ¥μΉ μ½μ€ μ…μ¶λ ¥ λ²„μ¤λ΅ λ¬¶κ³ , ν•„μ”ν• κ²½μ°μ—λ§ μ‹μ¤ν… λ²„μ¤λ΅ μ¬λΌκ°€ λ³‘λ©μ„ μ¤„μ΄λ” κµ¬μ΅°

---

## π“ ν•λμ— λΉ„κµ ν‘

| κµ¬λ¶„ | CPU κ΄€μ—¬ | λ°μ΄ν„° μ΄λ™ κ²½λ΅ | μ¥μ  | λ‹¨μ  |
|---|---:|---|---|---|
| ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥ | λ§¤μ° νΌ | μ¥μΉ β†” **CPU** β†” λ©”λ¨λ¦¬ | κµ¬ν„ λ‹¨μ | ν΄λ§μΌλ΅ CPU λ‚­λΉ„ λ°μƒ κ°€λ¥ |
| μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥ | νΌ | μ¥μΉ β†” **CPU** β†” λ©”λ¨λ¦¬ | ν΄λ§ κ°μ†, ν¨μ¨ κ°μ„  | λ°μ΄ν„°κ°€ μ—¬μ „ν CPUλ¥Ό κ±°μΉ¨ |
| DMA μ…μ¶λ ¥ | μ μ | μ¥μΉ β†” **λ©”λ¨λ¦¬** (DMAκ°€ μ¤‘κ°) | CPU λ¶€λ‹΄ ν¬κ² κ°μ† | λ²„μ¤ κ²½ν•©(κ³µμ© μμ›) κ³ λ ¤ ν•„μ” |

---

### β… μµμΆ… μ •λ¦¬
- **ν”„λ΅κ·Έλ¨/μΈν„°λ½νΈ κΈ°λ°**: CPUκ°€ λ°μ΄ν„° μ΄λ™κΉμ§€ λ§΅μ β†’ CPU λ¶€λ‹΄ β†‘  
- **DMA**: λ°μ΄ν„° μ΄λ™μ„ DMAκ°€ λ§΅μ β†’ CPU λ¶€λ‹΄ β†“, λ€μ‹  λ²„μ¤ κ²½ν•© κ΄€λ¦¬ ν•„μ”
