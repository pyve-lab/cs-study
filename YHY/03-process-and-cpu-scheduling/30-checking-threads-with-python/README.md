# π§  30κ°• νμ΄μ¬ μ½”λ“λ΅ μ¤λ λ“ ν™•μΈν•κΈ°

[β–¶ κ°•μ λ°”λ΅κ°€κΈ°](https://www.youtube.com/watch?v=yTZ1ECY2Vjc)

> μ΄ κ°•μλ” **β€μ¤λ λ“(thread)κ°€ λ­”μ§€β€λ¥Ό λ¨Έλ¦¬λ΅λ§ μ΄ν•΄ν•λ” κ² μ•„λ‹λΌ**,  
> νμ΄μ¬ μ½”λ“λ΅ **μ§μ ‘ μ‹¤ν–‰ν•΄ λ³΄λ©΄μ„ β€PIDλ” κ°™κ³ , Thread IDλ” λ‹¬λΌμ§€λ”β€** κ±Έ λμΌλ΅ ν™•μΈν•λ” μ‹¤μµμ΄λ‹¤.

---

## π“ λ©μ°¨

- [π§  30κ°• νμ΄μ¬ μ½”λ“λ΅ μ¤λ λ“ ν™•μΈν•κΈ°](#-30κ°•-νμ΄μ¬-μ½”λ“λ΅-μ¤λ λ“-ν™•μΈν•κΈ°)
  - [π“ λ©μ°¨](#-λ©μ°¨)
  - [λ¨Όμ € ν™•μΈ: PID(ν”„λ΅μ„Έμ¤ ID) μ°μ–΄λ³΄κΈ°](#λ¨Όμ €-ν™•μΈ-pidν”„λ΅μ„Έμ¤-id-μ°μ–΄λ³΄κΈ°)
    - [β… ν¬μΈνΈ](#-ν¬μΈνΈ)
  - [μ¤λ λ“ 1κ° λ§λ“¤κΈ°: PIDλ” κ°™κ³  Thread IDλ” λ‹¤λ¥΄λ‹¤](#μ¤λ λ“-1κ°-λ§λ“¤κΈ°-pidλ”-κ°™κ³ -thread-idλ”-λ‹¤λ¥΄λ‹¤)
    - [β… ν¬μΈνΈ](#-ν¬μΈνΈ-1)
  - [μ¤λ λ“ 3κ° λ§λ“¤κΈ°: Thread IDκ°€ μ—¬λ¬ κ°λ΅ μ°νλ‹¤](#μ¤λ λ“-3κ°-λ§λ“¤κΈ°-thread-idκ°€-μ—¬λ¬-κ°λ΅-μ°νλ‹¤)
    - [β… ν¬μΈνΈ](#-ν¬μΈνΈ-2)
  - [κ°™μ€ ν•¨μ(foo)λ¥Ό μ—¬λ¬ μ¤λ λ“λ΅ μ‹¤ν–‰ν•κΈ°](#κ°™μ€-ν•¨μfooλ¥Ό-μ—¬λ¬-μ¤λ λ“λ΅-μ‹¤ν–‰ν•κΈ°)
    - [β… ν¬μΈνΈ](#-ν¬μΈνΈ-3)
  - [μ„λ΅ λ‹¤λ¥Έ ν•¨μ(foo/bar/baz)λ¥Ό κ°κ° μ¤λ λ“λ΅ μ‹¤ν–‰ν•κΈ°](#μ„λ΅-λ‹¤λ¥Έ-ν•¨μfoobarbazλ¥Ό-κ°κ°-μ¤λ λ“λ΅-μ‹¤ν–‰ν•κΈ°)
    - [β… ν¬μΈνΈ](#-ν¬μΈνΈ-4)
  - [μ‹¤ν–‰ν•  λ• μμ£Ό λ‚μ¤λ” κ¶κΈμ¦](#μ‹¤ν–‰ν• -λ•-μμ£Ό-λ‚μ¤λ”-κ¶κΈμ¦)
    - [Q1) μ™ `thread1 = threading.Thread(...).start()`μ²λΌ μ“°λ©΄ `thread1`μ΄ Noneμ΄μ•Ό?](#q1-μ™-thread1--threadingthreadstartμ²λΌ-μ“°λ©΄-thread1μ΄-noneμ΄μ•Ό)
    - [Q2) μ¶λ ¥μ΄ κ°€λ” λ λ‚μ¤λ” κ²ƒ κ°™μ•„ λ³΄μ΄λ”λ°?](#q2-μ¶λ ¥μ΄-κ°€λ”-λ-λ‚μ¤λ”-κ²ƒ-κ°™μ•„-λ³΄μ΄λ”λ°)
    - [Q3) μ¤λ λ“λ¥Ό μ—¬λ¬ κ° μ“°λ©΄ λ¬΄μ΅°κ±΄ λ” λΉ¨λΌμ Έ?](#q3-μ¤λ λ“λ¥Ό-μ—¬λ¬-κ°-μ“°λ©΄-λ¬΄μ΅°κ±΄-λ”-λΉ¨λΌμ Έ)

---

## λ¨Όμ € ν™•μΈ: PID(ν”„λ΅μ„Έμ¤ ID) μ°μ–΄λ³΄κΈ°

μ•„λ μ½”λ“λ” β€**λ‚΄ νμ΄μ¬ ν”„λ΅κ·Έλ¨(ν”„λ΅μ„Έμ¤)μ ID**β€λ¥Ό μ°λ”λ‹¤.

```python
import os

print('my pid is ', os.getpid())
```

### β… ν¬μΈνΈ
- `os.getpid()`λ” **ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤ ID(PID)** λ¥Ό λ°ν™ν•λ‹¤.
- μ¤λ λ“λ¥Ό μ—¬λ¬ κ° λ§λ“¤μ–΄λ„ **PIDλ” κ·Έλ€λ΅**λ‹¤. (μ¤λ λ“λ” κ°™μ€ ν”„λ΅μ„Έμ¤ μ•μ—μ„ λμ•„κ°)

---

## μ¤λ λ“ 1κ° λ§λ“¤κΈ°: PIDλ” κ°™κ³  Thread IDλ” λ‹¤λ¥΄λ‹¤

μ¤λ λ“λ¥Ό ν•λ‚ λ§λ“¤κ³ , μ¤λ λ“ ν•¨μ μ•μ—μ„ **Thread ID** μ™€ **PID** λ¥Ό ν•¨κ» μ°μ–΄λ³Έλ‹¤.

```python
import threading
import os

def foo():
    print('foo: thread id is ', threading.get_native_id())
    print('foo: my pid is ' , os.getpid())

if __name__ == '__main__':
    print('my pid is ', os.getpid())
    thread1 = threading.Thread(target=foo).start()
```

### β… ν¬μΈνΈ
- `threading.get_native_id()`  
  - OS λ λ²¨μ—μ„ κ΄€λ¦¬λλ” **μ¤λ λ“ ID** (νμ΄μ¬ 3.8+μ—μ„ μ‚¬μ© κ°€λ¥)
- μ¶λ ¥ κ²°κ³Όμ—μ„ λ³΄κ² λλ” ν•µμ‹¬:
  - λ©”μΈμ—μ„ μ°λ” PIDμ™€ `foo()`μ—μ„ μ°λ” PIDλ” **κ°™λ‹¤**
  - ν•μ§€λ§ Thread IDλ” **λ©”μΈ μ¤λ λ“μ™€ μƒ μ¤λ λ“κ°€ λ‹¤λ¥΄λ‹¤**

---

## μ¤λ λ“ 3κ° λ§λ“¤κΈ°: Thread IDκ°€ μ—¬λ¬ κ°λ΅ μ°νλ‹¤

μ΄λ²μ—” μ¤λ λ“λ¥Ό 3κ° λ§λ“¤μ–΄μ„, μ¤λ λ“ IDκ°€ μ—¬λ¬ κ°λ΅ μ°νλ”μ§€ ν™•μΈν•λ‹¤.

```python
import threading
import os

def foo():
    print('foo: thread id is ', threading.get_native_id())
    print('foo: my pid is ' , os.getpid())

if __name__ == '__main__':
    print('my pid is ', os.getpid())
    thread1 = threading.Thread(target=foo).start()
    thread2 = threading.Thread(target=foo).start()
    thread3 = threading.Thread(target=foo).start()
```

### β… ν¬μΈνΈ
- PIDλ” μ—¬μ „ν **ν•λ‚(κ°™μ€ ν”„λ΅μ„Έμ¤)** λ΅ μ μ§€λλ‹¤.
- `foo()`κ°€ μ°λ” Thread IDλ” λ³΄ν†µ **3κ°κ°€ μ„λ΅ λ‹¤λ¥΄κ²** λ‚μ¨λ‹¤.
- μ¶λ ¥ μμ„λ” μ‹¤ν–‰ν•  λ•λ§λ‹¤ λ°”λ€” μ μλ‹¤.
  - μ¤λ λ“λ” β€λ„κ°€ λ¨Όμ € μ‹¤ν–‰λ μ§€β€ OS μ¤μΌ€μ¤„λ¬κ°€ κ²°μ •ν•΄μ„ **μμ„κ°€ κ³ μ •λμ§€ μ•λ”λ‹¤**

---

## κ°™μ€ ν•¨μ(foo)λ¥Ό μ—¬λ¬ μ¤λ λ“λ΅ μ‹¤ν–‰ν•κΈ°

μ΄λ² μ½”λ“λ” ID μ¶λ ¥μ€ μ—†κ³ , **β€κ°™μ€ ν•¨μκ°€ μ¤λ λ“λ΅ λ™μ‹μ— μ‹¤ν–‰λ  μ μλ‹¤β€** λ¥Ό μ²΄κ°ν•λ” μμ‹λ‹¤.

```python
import threading
import os

def foo():
    print('executed foo!!')

if __name__ == '__main__':
    thread1 = threading.Thread(target=foo).start()
    thread2 = threading.Thread(target=foo).start()
    thread3 = threading.Thread(target=foo).start()
```

### β… ν¬μΈνΈ
- `foo()`λ” κ°™μ€ μ½”λ“μΈλ°λ„ μ¤λ λ“ 3κ°κ°€ κ°κ° μ‹¤ν–‰ν•λ―€λ΅
  - `"executed foo!!"`κ°€ **μ—¬λ¬ λ² μ¶λ ¥**λλ‹¤.
- μ—­μ‹ μ¶λ ¥ μμ„κ°€ λ°”λ€λ” κ²ƒμ€ μ •μƒμ΄λ‹¤.

---

## μ„λ΅ λ‹¤λ¥Έ ν•¨μ(foo/bar/baz)λ¥Ό κ°κ° μ¤λ λ“λ΅ μ‹¤ν–‰ν•κΈ°

κ°κΈ° λ‹¤λ¥Έ ν•¨μλ¥Ό μ¤λ λ“λ΅ μ‹¤ν–‰ν•λ©΄, μ„λ΅ λ‹¤λ¥Έ μ‘μ—…μ„ λ™μ‹μ— λλ¦¬λ” κ²ƒμ²λΌ λ™μ‘ν•λ‹¤.

```python
import threading
import os

def foo():
    print('executed foo!!')

def bar():
    print('executed bar!!')

def baz():
    print('executed baz!!')

if __name__ == '__main__':
    thread1 = threading.Thread(target=foo).start()
    thread2 = threading.Thread(target=bar).start()
    thread3 = threading.Thread(target=baz).start()
```

### β… ν¬μΈνΈ
- μ¤λ λ“ 3κ°κ°€ κ°κ° λ‹¤λ¥Έ ν•¨μλ¥Ό μ‹¤ν–‰ β†’ κ²°κ³Όμ μΌλ΅ **μ‘μ—…μ„ λ¶„λ¦¬ν•΄μ„ λ³‘λ ¬μ²λΌ μ²λ¦¬**ν•λ” λλ‚μ„ μ–»λ”λ‹¤.
- μ¶λ ¥μ€ λ€μ²΄λ΅ `foo/bar/baz`κ°€ λ¨λ‘ λ‚μ¤μ§€λ§, **μμ„λ” λ§¤λ² λ‹¬λΌμ§ μ μλ‹¤**

---

## μ‹¤ν–‰ν•  λ• μμ£Ό λ‚μ¤λ” κ¶κΈμ¦

### Q1) μ™ `thread1 = threading.Thread(...).start()`μ²λΌ μ“°λ©΄ `thread1`μ΄ Noneμ΄μ•Ό?
- `start()`λ” **λ°ν™κ°’μ΄ μ—†λ‹¤(None)**  
- μ¤λ λ“ κ°μ²΄λ¥Ό μ €μ¥ν•λ ¤λ©΄ λ³΄ν†µ μ•„λμ²λΌ μ“΄λ‹¤:

```python
t1 = threading.Thread(target=foo)
t1.start()
```

### Q2) μ¶λ ¥μ΄ κ°€λ” λ λ‚μ¤λ” κ²ƒ κ°™μ•„ λ³΄μ΄λ”λ°?
- μ¤λ λ“κ°€ μ¶λ ¥ν•κΈ° μ „μ— ν”„λ΅κ·Έλ¨μ΄ λλ‚λ” κ²½μ°κ°€ μμ„ μ μλ‹¤.  
- κ·Έλ° κ²½μ° `join()`μΌλ΅ β€μ¤λ λ“ λλ‚  λ•κΉμ§€ κΈ°λ‹¤λ¦¬κΈ°β€λ¥Ό ν•λ©΄ μ•μ •μ μ΄λ‹¤.

```python
t1 = threading.Thread(target=foo)
t1.start()
t1.join()
```

### Q3) μ¤λ λ“λ¥Ό μ—¬λ¬ κ° μ“°λ©΄ λ¬΄μ΅°κ±΄ λ” λΉ¨λΌμ Έ?
- **CPU μ—°μ‚°** μ„μ£Ό μ‘μ—…μ€ νμ΄μ¬μ—μ„ (GIL μν–¥μΌλ΅) κΈ°λ€λ§νΌ λΉ¨λΌμ§€μ§€ μ•μ„ μ μλ‹¤.
- λ€μ‹  **I/O μ‘μ—…(λ„¤νΈμ›ν¬, νμΌ, DB μ”μ²­ λ“±)** μ€ μ¤λ λ“λ΅ λ™μ‹μ— μ²λ¦¬ν•λ©΄ μ²΄κ° μ„±λ¥μ΄ μΆ‹μ•„μ§€λ” κ²½μ°κ°€ λ§λ‹¤.
